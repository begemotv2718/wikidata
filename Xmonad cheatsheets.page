---
format: Markdown
categories: xmonad haskell
...

# Non-tiling window manager inside Xmonad

* [Stackexchange: running non-tiling in xmonad](http://superuser.com/questions/443655/running-a-non-tiling-window-manager-inside-an-xmonad-tile) Recommend to use xnest
* [Another stackexchange: recommends Xephyr](http://unix.stackexchange.com/questions/44244/run-a-different-window-manager-in-a-specific-workspace-in-xmonad)
* [This page](http://download.swsoft.com/virtuozzo/virtuozzo4.0/docs/en/lin/VzLinuxUG/11482.htm) discuss startup of window manager. The main nontrivial piece of information here is link to /usr/X11R6/lib/X11/xinit/Xclients in startup
* [Xnest](https://en.wikipedia.org/wiki/Xnest) wiki page
* [Xephyr](https://en.wikipedia.org/wiki/Xephyr) wiki page

## Script to run Xephyr from xmonad 
From [this page](https://docu.blackdot.be/configuration/xmonad)

**.xmonad/bin/xmonad-xephyr-run**

```bash
#!/bin/sh

if [ "$(ps aux | grep Xephyr | grep -v grep | grep -vi virtualbox | wc -l)" -lt 1 ]; then
	exec Xephyr -screen 1366x752 -terminate -title "Xmonad Classic" :3 &
	xdotool search --classname "Xephyr" windowmove 0 16
	xdotool search --classname "Xephyr" windowsize 1366 752
	sleep 1
	export DISPLAY=:3
	exec xfce4-session
	sleep 1
	exe=`dmenu_run_xephyr -nb black -sb black -nf "#555753" -sf "#8AE234"`
	eval "exec $exe"
else
	export DISPLAY=:3
	exe=`dmenu_run_xephyr -nb black -sb black -nf "#555753" -sf "#8AE234"`
	eval "exec $exe"

fi
```

****

## Running xmonad inside xnest

[From this discussion](https://mail.haskell.org/pipermail/xmonad/2007-June/001128.html)

```bash
#!/bin/sh

Xnest :1 -name "Xnest" +kb -ac -bw 5 -geometry 1260x780 &
XNEST_PROC=$!

DISPLAY=:1
xsetroot -display :1 -solid gray

/home/gimbo/xmonad/xmonad/dist/build/xmonad/xmonad

wait $!
kill $XNEST_PROC
```